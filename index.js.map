{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport '../css/styles.css';\n\nconst iziToastOption = {\n  timeout: 100000,\n  theme: 'dark',\n  messageColor: 'white',\n  position: 'topRight',\n  icon: 'custom-svg-icon',\n  iconColor: '#FFFFFF',\n  closeOnClick: true,\n  backgroundColor: '#ef4040',\n};\n\nexport default function getImagesByQuery(query) {\n  return axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        key: '51407519-422ec1314326ee48566ae1dd4',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        timeout: 2000,\n        per_page: 21,\n      },\n    })\n    .then(response => {\n      if (\n        Array.isArray(response.data.hits) &&\n        response.data.hits.length === 0\n      ) {\n        iziToastOption.message =\n          'Sorry, there are no images matching your search query. Please try again!';\n        iziToast.show(iziToastOption);\n      }\n      return response.data.hits;\n    })\n    .catch(error => {\n      console.log(error);\n      return error.message;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport '../../node_modules/simplelightbox/dist/simple-lightbox.min.css';\n\ndocument.documentElement.style.setProperty(\n  '$sl-overlay-background',\n  'rgba(255, 0, 0, 0.5)'\n);\n\nexport function createGallery(images) {\n  const listImages = images\n    .map(\n      image => `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\" >\n          <img\n            class=\"gallery-image\"\n            src=\"${image.webformatURL}\"\n            alt=\"${image.tags}\"\n          />\n        </a>\n      </li>`\n    )\n    .join('');\n\n  return listImages;\n}\n\n// const light = new SimpleLightbox('.gallery a', {\n//   captionDelay: 250,\n//   captionsData: 'alt',\n//   overlayOpacity: 0.95,\n// });\n\n// light.on('error.simplelightbox', function (e) {\n//   alert('Could not find image. Try again.');\n// });\n","import getImagesByQuery from './js/pixabay-api';\n\nimport { createGallery } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = form.elements['search-text']?.value || '';\n  //second method with underscore   query = form.elements.search_text.value;\n\n  getImagesByQuery(query)\n    .then(response => {\n      if (response == 'Network Error') {\n        return;\n      }\n      gallery.innerHTML = '';\n      gallery.insertAdjacentHTML('afterbegin', createGallery(response));\n    })\n    .catch(error => {\n      console.log(\n        `Another possible errors except network,\n            ${error}`\n      );\n    });\n});\n"],"names":["iziToastOption","getImagesByQuery","query","axios","response","iziToast","error","createGallery","images","image","form","gallery","event","_a"],"mappings":"6vBAKA,MAAMA,EAAiB,CACrB,QAAS,IACT,MAAO,OACP,aAAc,QACd,SAAU,WACV,KAAM,kBACN,UAAW,UACX,aAAc,GACd,gBAAiB,SACnB,EAEe,SAASC,EAAiBC,EAAO,CAC9C,OAAOC,EACJ,IAAI,2BAA4B,CAC/B,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,QAAS,IACT,SAAU,EACX,CACP,CAAK,EACA,KAAKE,IAEF,MAAM,QAAQA,EAAS,KAAK,IAAI,GAChCA,EAAS,KAAK,KAAK,SAAW,IAE9BJ,EAAe,QACb,2EACFK,EAAS,KAAKL,CAAc,GAEvBI,EAAS,KAAK,KACtB,EACA,MAAME,IACL,QAAQ,IAAIA,CAAK,EACVA,EAAM,QACd,CACL,CCzCA,SAAS,gBAAgB,MAAM,YAC7B,yBACA,sBACF,EAEO,SAASC,EAAcC,EAAQ,CAepC,OAdmBA,EAChB,IACCC,GAAS;AAAA,wCACyBA,EAAM,aAAa;AAAA;AAAA;AAAA,mBAGxCA,EAAM,YAAY;AAAA,mBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA,YAIxB,EACA,KAAK,EAAE,CAGZ,CCpBA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EACjDD,EAAK,iBAAiB,SAAUE,GAAS,OACvCA,EAAM,eAAc,EAEpB,MAAMV,IAAQW,EAAAH,EAAK,SAAS,aAAa,IAA3B,YAAAG,EAA8B,QAAS,GAGrDZ,EAAiBC,CAAK,EACnB,KAAKE,GAAY,CACZA,GAAY,kBAGhBO,EAAQ,UAAY,GACpBA,EAAQ,mBAAmB,aAAcJ,EAAcH,CAAQ,CAAC,EACtE,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IACN;AAAA,cACMA,CAAK,EACnB,CACA,CAAK,CACL,CAAC"}