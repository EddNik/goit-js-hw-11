{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport '../../node_modules/simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.js-loader');\n\nexport function createGallery(images) {\n  const listImages = images\n    .map(\n      image => `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img\n              class=\"gallery-image\"\n              src=\"${image.webformatURL}\"\n              alt=\"${image.tags}\"\n            />\n          </a>\n          <div class=\"gallery-options-container\">\n          <div class=\"gallery-options\">\n            <h3 class=\"count-option\">Likes</h3>\n            <p>${image.likes}</p>\n          </div>\n          <div class=\"gallery-options\">\n            <h3 class=\"count-option\">Views</h3>\n            <p>${image.views}</p>\n          </div>\n          <div class=\"gallery-options\">\n            <h3 class=\"count-option\">Comments</h3>\n            <p>${image.comments}</p>\n          </div>\n          <div class=\"gallery-options\">\n            <h3 class=\"count-option\">Downloads</h3>\n            <p>${image.downloads}</p>\n          </div>\n         </div>\n        </li>`\n    )\n    .join('');\n\n  gallery.insertAdjacentHTML('afterbegin', listImages);\n\n  new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    overlayOpacity: 0.95,\n  }).refresh();\n}\n\nexport function showLoader() {\n  loader.classList.add('loader');\n}\n\nexport function hideLoader() {\n  loader.classList.remove('loader');\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = '';\n}\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport '../css/styles.css';\nimport { hideLoader } from './render-functions';\n\nexport const iziToastOption = {\n  timeout: 5000,\n  theme: 'dark',\n  messageColor: 'white',\n  icon: 'custom-svg-icon',\n  iconColor: '#FFFFFF',\n  closeOnClick: true,\n  backgroundColor: '#ef4040',\n  position: 'topRight',\n};\n\nexport default function getImagesByQuery(query) {\n  return axios\n    .get('https://pixabay.com/api/', {\n      params: {\n        key: '51407519-422ec1314326ee48566ae1dd4',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        per_page: 21,\n      },\n    })\n    .then(response => {\n      if (\n        Array.isArray(response.data.hits) &&\n        response.data.hits.length === 0\n      ) {\n        iziToastOption.message =\n          'Sorry, there are no images matching your search query. Please try again!';\n        iziToast.show(iziToastOption);\n      }\n      return response.data.hits;\n    })\n    .catch(error => {\n      console.log(error);\n      iziToastOption.message = `${error.message} : ${error.code}`;\n      iziToast.error(iziToastOption);\n      setTimeout(() => {\n        hideLoader();\n      }, 500);\n    });\n}\n","import getImagesByQuery from './js/pixabay-api';\nimport { iziToastOption } from './js/pixabay-api';\nimport {\n  createGallery,\n  hideLoader,\n  showLoader,\n  clearGallery,\n} from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  clearGallery();\n  const query = form.elements['search-text'].value.trim();\n  showLoader();\n  if (query === '') {\n    iziToastOption.message =\n      'Sorry, this name images is empty. Please try again!';\n    iziToastOption.position = 'topRight';\n    iziToast.show(iziToastOption);\n    setTimeout(() => {\n      hideLoader();\n    }, 500);\n  } else {\n    getImagesByQuery(query)\n      .then(response => {\n        createGallery(response);\n        hideLoader();\n      })\n      .catch(error => {\n        iziToastOption.message = `${error}`;\n        iziToastOption.timeout = 10000;\n        iziToast.show(iziToastOption);\n        setTimeout(() => {\n          hideLoader();\n        }, 500);\n      });\n  }\n});\n"],"names":["gallery","loader","createGallery","images","listImages","image","SimpleLightbox","showLoader","hideLoader","clearGallery","iziToastOption","getImagesByQuery","query","axios","response","iziToast","error","form","event"],"mappings":"owBAGA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,YAAY,EAE3C,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAaD,EAChB,IACCE,GAAS;AAAA,0CAC2BA,EAAM,aAAa;AAAA;AAAA;AAAA,qBAGxCA,EAAM,YAAY;AAAA,qBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAMdA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,cAI3B,EACA,KAAK,EAAE,EAEVL,EAAQ,mBAAmB,aAAcI,CAAU,EAEnD,IAAIE,EAAe,aAAc,CAC/B,aAAc,IACd,eAAgB,GACpB,CAAG,EAAE,QAAO,CACZ,CAEO,SAASC,GAAa,CAC3BN,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEO,SAASO,GAAa,CAC3BP,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASQ,GAAe,CAC7BT,EAAQ,UAAY,EACtB,CCnDO,MAAMU,EAAiB,CAC5B,QAAS,IACT,MAAO,OACP,aAAc,QACd,KAAM,kBACN,UAAW,UACX,aAAc,GACd,gBAAiB,UACjB,SAAU,UACZ,EAEe,SAASC,EAAiBC,EAAO,CAC9C,OAAOC,EACJ,IAAI,2BAA4B,CAC/B,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EACX,CACP,CAAK,EACA,KAAKE,IAEF,MAAM,QAAQA,EAAS,KAAK,IAAI,GAChCA,EAAS,KAAK,KAAK,SAAW,IAE9BJ,EAAe,QACb,2EACFK,EAAS,KAAKL,CAAc,GAEvBI,EAAS,KAAK,KACtB,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBN,EAAe,QAAU,GAAGM,EAAM,OAAO,MAAMA,EAAM,IAAI,GACzDD,EAAS,MAAML,CAAc,EAC7B,WAAW,IAAM,CACfF,GACD,EAAE,GAAG,CACZ,CAAK,CACL,CCrCA,MAAMS,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EACpBT,IACA,MAAMG,EAAQK,EAAK,SAAS,aAAa,EAAE,MAAM,OACjDV,IACIK,IAAU,IACZF,EAAe,QACb,sDACFA,EAAe,SAAW,WAC1BK,EAAS,KAAKL,CAAc,EAC5B,WAAW,IAAM,CACfF,GACD,EAAE,GAAG,GAENG,EAAiBC,CAAK,EACnB,KAAKE,GAAY,CAChBZ,EAAcY,CAAQ,EACtBN,GACR,CAAO,EACA,MAAMQ,GAAS,CACdN,EAAe,QAAU,GAAGM,CAAK,GACjCN,EAAe,QAAU,IACzBK,EAAS,KAAKL,CAAc,EAC5B,WAAW,IAAM,CACfF,GACD,EAAE,GAAG,CACd,CAAO,CAEP,CAAC"}